
= 高并发系统

. 秒杀系统
. 设计rpc
. 短链接
.. 设计方案
... hash，会冲突
... redis 自增，会引起资源竞争，链接可推导
... 预生成，Fuxi（最多 144 亿短链接），每个短链接占用 6B 空间，存储时无需间隔，读取时需要存储游标，过期后追加到数据后面
... 雪花算法，直接使用超出需要，但是可以调整时间范围，缩短长度
.. 避免一个链接重复生成短链接
... 浏览器本地缓存
... redis 缓存一小时
... 布隆过滤器

. 排行榜
.. zset 存储，且有个求合集的 api
. 微信抢红包
. 设计点赞功能
. 微博feed流或微信朋友圈
. 定时任务
. 分布式id锁事务
. 各种海量数据处理
. 网盘
.. 设计方案
... 文件分块存储，4mb，long file id
... 文件秒传，文件大小 + 文件md5 + 文件前256kb md5
... 根据用户 id 分表
